import{r as f,j as i,h as re,a as le,v as de,u as ue,b as c,e as X,f as pe,l as fe,w as me,y as E,x as he,c as k}from"./index-CT1dYHP2.js";import{A as ge}from"./AddressForm-DeI5Dsgs.js";/*!
 * react-paypal-js v8.8.2 (2025-02-06T19:12:00.138Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(N||(N={}));var D;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(D||(D={}));var Z;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(Z||(Z={}));var h=function(){return h=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},h.apply(this,arguments)};function ae(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r}function Q(e,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,s;a<o;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}var F="data-react-paypal-script-id",_={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},ye="Failed to load the PayPal JS SDK script.",ne="paypal",ve="usePayPalScriptReducer must be used within a PayPalScriptProvider";function be(e){return e===void 0&&(e=ne),window[e]}function Ne(e){for(var t="",r=0;r<e.length;r++){var a=e[r].charCodeAt(0)*r;e[r+1]&&(a+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(a)%26)}return t}function xe(e){var t=e.reactComponentName,r=e.sdkComponentKey,a=e.sdkRequestedComponents,o=a===void 0?"":a,s=e.sdkDataNamespace,d=s===void 0?ne:s,g=r.charAt(0).toUpperCase().concat(r.substring(1)),v="Unable to render <".concat(t," /> because window.").concat(d,".").concat(g," is undefined."),l=typeof o=="string"?o:o.join(",");if(!l.includes(r)){var b=[l,r].filter(Boolean).join();v+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(b,"'}}>`.")}return v}function oe(e){var t=e,r=F;t[r];var a=ae(t,[r+""]);return"react-paypal-js-".concat(Ne(JSON.stringify(a)))}function Se(e){var t=self.document.querySelector("script[".concat(F,'="').concat(e,'"]'));t!=null&&t.parentNode&&t.parentNode.removeChild(t)}function Ee(e,t){var r,a;switch(t.type){case D.LOADING_STATUS:return typeof t.value=="object"?h(h({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):h(h({},e),{loadingStatus:t.value});case D.RESET_OPTIONS:return Se(e.options[F]),h(h({},e),{loadingStatus:N.PENDING,options:h(h((r={},r[_.DATA_SDK_INTEGRATION_SOURCE]=_.DATA_LIBRARY_VALUE,r),t.value),(a={},a[F]="".concat(oe(t.value)),a))});case D.SET_BRAINTREE_INSTANCE:return h(h({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var se=f.createContext(null);function we(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(ve)}function Ae(){var e=we(f.useContext(se)),t=h(h({},e),{isInitial:e.loadingStatus===N.INITIAL,isPending:e.loadingStatus===N.PENDING,isResolved:e.loadingStatus===N.RESOLVED,isRejected:e.loadingStatus===N.REJECTED});return[t,e.dispatch]}f.createContext({});function Ie(e){var t=f.useRef(new Proxy({},{get:function(r,a,o){return typeof r[a]=="function"?function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return r[a].apply(r,s)}:Reflect.get(r,a,o)}}));return t.current=Object.assign(t.current,e),t.current}var W=function(e){var t,r=e.className,a=r===void 0?"":r,o=e.disabled,s=o===void 0?!1:o,d=e.children,g=e.forceReRender,v=g===void 0?[]:g,l=ae(e,["className","disabled","children","forceReRender"]),b=s?{opacity:.38}:{},w="".concat(a," ").concat(s?"paypal-buttons-disabled":"").trim(),O=f.useRef(null),I=f.useRef(null),P=Ie(l),L=Ae()[0],M=L.isResolved,R=L.options,U=f.useState(null),A=U[0],K=U[1],x=f.useState(!0),z=x[0],C=x[1],G=f.useState(null),q=G[1];function T(){I.current!==null&&I.current.close().catch(function(){})}return!((t=I.current)===null||t===void 0)&&t.updateProps&&I.current.updateProps({message:l.message}),f.useEffect(function(){if(M===!1)return T;var B=be(R.dataNamespace);if(B===void 0||B.Buttons===void 0)return q(function(){throw new Error(xe({reactComponentName:W.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:R.components,sdkDataNamespace:R[_.DATA_NAMESPACE]}))}),T;var V=function(j,n){K(n),typeof l.onInit=="function"&&l.onInit(j,n)};try{I.current=B.Buttons(h(h({},P),{onInit:V}))}catch(j){return q(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(j))})}return I.current.isEligible()===!1?(C(!1),T):(O.current&&I.current.render(O.current).catch(function(j){O.current===null||O.current.children.length===0||q(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(j))})}),T)},Q(Q([M],v,!0),[l.fundingSource],!1)),f.useEffect(function(){A!==null&&(s===!0?A.disable().catch(function(){}):A.enable().catch(function(){}))},[s,A]),i(re,{children:z?i("div",{ref:O,style:b,className:w}):d})};W.displayName="PayPalButtons";function Re(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r}function Oe(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var a=ie(e,t),o=r.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(a.dataset).length)return null;var s=!0;return Object.keys(o.dataset).forEach(function(d){o.dataset[d]!==a.dataset[d]&&(s=!1)}),s?r:null}function Pe(e){var t=e.url,r=e.attributes,a=e.onSuccess,o=e.onError,s=ie(t,r);s.onerror=o,s.onload=a,document.head.insertBefore(s,document.head.firstElementChild)}function Ce(e){var t=e.sdkBaseUrl,r=e.environment,a=Re(e,["sdkBaseUrl","environment"]),o=t||je(r),s=a,d=Object.keys(s).filter(function(l){return typeof s[l]<"u"&&s[l]!==null&&s[l]!==""}).reduce(function(l,b){var w=s[b].toString();return b=De(b),b.substring(0,4)==="data"||b==="crossorigin"?l.attributes[b]=w:l.queryParams[b]=w,l},{queryParams:{},attributes:{}}),g=d.queryParams,v=d.attributes;return g["merchant-id"]&&g["merchant-id"].indexOf(",")!==-1&&(v["data-merchant-id"]=g["merchant-id"],g["merchant-id"]="*"),{url:"".concat(o,"?").concat(Te(g)),attributes:v}}function De(e){var t=function(r,a){return(a?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function Te(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function je(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function ie(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(a){r.setAttribute(a,t[a]),a==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function _e(e,t){if(t===void 0&&(t=Promise),ce(e,t),typeof document>"u")return t.resolve(null);var r=Ce(e),a=r.url,o=r.attributes,s=o["data-namespace"]||"paypal",d=H(s);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),Oe(a,o)&&d?t.resolve(d):ke({url:a,attributes:o},t).then(function(){var g=H(s);if(g)return g;throw new Error("The window.".concat(s," global variable is not available."))})}function ke(e,t){t===void 0&&(t=Promise),ce(e,t);var r=e.url,a=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof a<"u"&&typeof a!="object")throw new Error("Expected attributes to be an object.");return new t(function(o,s){if(typeof document>"u")return o();Pe({url:r,attributes:a,onSuccess:function(){return o()},onError:function(){var d=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return s(d)}})})}function H(e){return window[e]}function ce(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var Le=function(e){var t,r=e.options,a=r===void 0?{clientId:"test"}:r,o=e.children,s=e.deferLoading,d=s===void 0?!1:s,g=f.useReducer(Ee,{options:h(h({},a),(t={},t[_.DATA_JS_SDK_LIBRARY]=_.DATA_LIBRARY_VALUE,t[_.DATA_SDK_INTEGRATION_SOURCE]=_.DATA_LIBRARY_VALUE,t[F]="".concat(oe(a)),t)),loadingStatus:d?N.INITIAL:N.PENDING}),v=g[0],l=g[1];return f.useEffect(function(){if(d===!1&&v.loadingStatus===N.INITIAL)return l({type:D.LOADING_STATUS,value:N.PENDING});if(v.loadingStatus===N.PENDING){var b=!0;return _e(v.options).then(function(){b&&l({type:D.LOADING_STATUS,value:N.RESOLVED})}).catch(function(w){console.error("".concat(ye," ").concat(w)),b&&l({type:D.LOADING_STATUS,value:{state:N.REJECTED,message:String(w)}})}),function(){b=!1}}},[v.options,d,v.loadingStatus]),i(se.Provider,{value:h(h({},v),{dispatch:l}),children:o})};function ee(){}f.createContext({cardFieldsForm:null,fields:{},registerField:ee,unregisterField:ee});const te=e=>{var t,r;return e?{id:e.id||null,addressLine:(e.addressLine||"").trim(),city:(e.city||"").trim(),state:(e.state||"").trim(),pincode:((t=e.pincode)==null?void 0:t.toString())||"",country:(e.country||"").trim(),mobile:((r=e.mobile)==null?void 0:r.toString())||"",userId:e.userId||null}:{}},Ue=e=>{var t;try{return((t=JSON.parse(e))==null?void 0:t[0])||e||"/placeholder.jpg"}catch{return e||"/placeholder.jpg"}},Fe=()=>{const{user:e}=le(),{cart:t,cartTotal:r,clearCart:a}=de(),o=ue(),[s,d]=f.useState(!0),[g,v]=f.useState([]),[l,b]=f.useState(null),[w,O]=f.useState("cash"),[I,P]=f.useState(null),[L,M]=f.useState(null),[R,U]=f.useState([]),[A,K]=f.useState(null),[x,z]=f.useState({totalOriginal:0,totalDiscounted:0,totalItems:0,totalSavings:0}),C=()=>({headers:{Authorization:`Bearer ${sessionStorage.getItem("authToken")}`}});f.useEffect(()=>{const n=()=>{try{const u=sessionStorage.getItem("cart"),p=u?JSON.parse(u):[];U(p),G(p)}catch(u){console.error("Error cargando carrito:",u),U([])}};return n(),window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[]);const G=n=>{const u=n.reduce((p,m)=>{const y=m.price*(1-m.discount/100)*m.quantity;return{totalOriginal:p.totalOriginal+m.price*m.quantity,totalDiscounted:p.totalDiscounted+y,totalItems:p.totalItems+m.quantity,totalSavings:p.totalSavings+(m.price*m.quantity-y)}},{totalOriginal:0,totalDiscounted:0,totalItems:0,totalSavings:0});z(u)};f.useEffect(()=>{e&&(async()=>{try{const{data:u}=await k.get("${import.meta.env.VITE_API_URL}/api/addresses",C());v(u.data.map(te))}catch{E.error("Error cargando direcciones")}finally{d(!1)}})()},[e]);const q=async()=>{var n,u;if(!l){E.error("Por favor, selecciona una dirección de entrega.");return}d(!0);try{const p={userId:e.id,delivery_address:l,paymentMethod:w,items:R.map(S=>({product_id:S.id,quantity:S.quantity,unit_price:parseFloat(S.price),discount:S.discount||0,color:S.color,size:S.size,image:S.image})),subTotalAmt:x.totalOriginal,totalAmt:x.totalDiscounted};(await k.post("${import.meta.env.VITE_API_URL}/api/orders",p,C())).data.success&&(E.success("Orden creada exitosamente."),sessionStorage.removeItem("cart"),a(),o("/my-orders"))}catch(p){console.error("Error creando la orden:",p),E.error(((u=(n=p.response)==null?void 0:n.data)==null?void 0:u.message)||"Error al crear la orden.")}finally{d(!1)}},T=async()=>{var n,u,p;try{if(console.groupCollapsed("[FRONTEND] Iniciando orden PayPal"),console.log("Resumen del carrito:",JSON.stringify({totalOriginal:x.totalOriginal,totalDiscounted:x.totalDiscounted,items:R.length},null,2)),!l)throw console.error("Dirección no seleccionada"),E.error("Selecciona una dirección de entrega"),new Error("Dirección requerida");const m={amount:x.totalDiscounted.toFixed(2),delivery_address:l,items:R.map(y=>{const $={productId:y.id,originalPrice:y.price,discount:y.discount,calculatedPrice:(y.price*(1-(y.discount||0)/100)).toFixed(2),quantity:y.quantity,total:(y.price*(1-(y.discount||0)/100)*y.quantity).toFixed(2)};return console.log("Item procesado:",$),{product_id:y.id,name:y.name.substring(0,127),unit_price:y.price,quantity:y.quantity,discount:y.discount||0}})};console.log("Enviando al backend:",JSON.stringify(m,null,2));const S=await k.post("https://cloudflare-d1.ujhuji.workers.dev/api/orders/paypal",m,C());return console.log("Respuesta del backend:",S.data),console.groupEnd(),S.data.paypal.id}catch(m){throw console.error("Error completo:",{message:m.message,response:(n=m.response)==null?void 0:n.data}),E.error(((p=(u=m.response)==null?void 0:u.data)==null?void 0:p.message)||"Error en PayPal"),m}},B=async n=>{var u,p;try{const m={address_line:n.addressLine,city:n.city,state:n.state,pincode:n.pincode,country:n.country,mobile:parseInt(n.mobile.replace(/\D/g,"")),user_id:e.id},S=A?`https://cloudflare-d1.ujhuji.workers.dev/api/addresses/${A.id}`:"https://cloudflare-d1.ujhuji.workers.dev/api/addresses",{data:y}=await k[A?"put":"post"](S,m,C());v($=>{const J=te(y.data);return A?$.map(Y=>Y.id===J.id?J:Y):[J,...$]}),E.success(A?"Dirección actualizada":"Dirección creada"),P(null)}catch(m){E.error(((p=(u=m.response)==null?void 0:u.data)==null?void 0:p.error)||"Error en la operación")}},V=async()=>{var n,u;try{await k.delete(`https://cloudflare-d1.ujhuji.workers.dev/api/addresses/${L}`,C()),v(p=>p.filter(m=>m.id!==L)),E.success("Dirección eliminada correctamente")}catch(p){E.error(((u=(n=p.response)==null?void 0:n.data)==null?void 0:u.error)||"Error eliminando dirección")}finally{M(null),P(null)}},j=async(n,u)=>{try{await u.order.capture(),await k.post("${import.meta.env.VITE_API_URL}/api/orders/paypal/capture",{paypalOrderId:n.orderID,amount:x.totalDiscounted},C()),sessionStorage.removeItem("cart"),a(),o("/my-orders"),E.success("¡Pago completado exitosamente!")}catch(p){console.error("Error en pago PayPal:",p),E.error("Error al procesar el pago")}};return i(Le,{options:{"client-id":"AaRU0Kwu72KFarOUC_CYxxssA0s852wpFICKHoR_mqjOdLlqu0RKY4NQp9NmnKBFITZMDkO0OiltA0xY",currency:"USD",intent:"capture"},children:c("div",{className:"max-w-6xl mx-auto p-4 relative",children:[c("h1",{className:"text-3xl font-bold mb-8 flex items-center gap-2",children:[i(X,{className:"text-emerald-600"}),"Finalizar Compra"]}),c("div",{className:"grid md:grid-cols-2 gap-8",children:[c("section",{className:"bg-white p-6 rounded-xl shadow-lg",children:[c("div",{className:"flex justify-between items-center mb-6",children:[c("h2",{className:"text-xl font-bold flex items-center gap-2",children:[i(X,{})," Mis Direcciones"]}),c("button",{onClick:()=>{K(null),P("address")},className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 flex items-center transition-colors",children:[i(pe,{className:"mr-2"})," Nueva Dirección"]})]}),i("div",{className:"grid gap-4",children:g.length===0?i("p",{className:"text-gray-500 text-center py-4",children:"No hay direcciones registradas"}):g.map(n=>c("div",{className:"border p-4 rounded-lg flex items-center justify-between",children:[c("div",{children:[i("p",{children:n.addressLine}),c("p",{children:[n.city,", ",n.state&&`${n.state},`," C.P. ",n.pincode]}),i("p",{children:n.country}),c("p",{children:["Tel: ",n.mobile]})]}),i("input",{type:"radio",name:"address",value:n.id,checked:l===n.id,onChange:()=>b(n.id),className:"form-radio h-5 w-5 text-indigo-600"})]},n.id))})]}),c("section",{className:"bg-white p-6 rounded-xl shadow-lg",children:[c("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[i(fe,{})," Resumen del Carrito"]}),R.length===0?i("p",{className:"text-gray-500",children:"Tu carrito está vacío."}):i("div",{className:"space-y-4",children:R.map(n=>{const u=n.price*(1-n.discount/100),p=u*n.quantity;return c("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[i("div",{className:"w-20 h-20 flex-shrink-0",children:i("img",{src:Ue(n.image),alt:n.name,className:"w-full h-full object-cover rounded-lg"})}),c("div",{className:"flex-1",children:[i("h3",{className:"font-semibold",children:n.name}),n.color&&c("p",{className:"text-gray-600",children:["Color: ",n.color]}),n.size&&c("p",{className:"text-gray-600",children:["Tamaño: ",n.size]}),c("p",{className:"text-gray-600",children:["Cantidad: ",n.quantity]}),c("p",{className:"text-gray-600",children:["Precio: $",u.toFixed(2)," c/u"]}),c("p",{className:"text-gray-600",children:["Total: $",p.toFixed(2)]})]})]},`${n.id}-${n.color}-${n.size}`)})})]}),I&&c(re,{children:[i("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 transition-opacity"}),I==="delete"&&i("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",children:[i("h3",{className:"text-lg font-bold mb-3",children:"¿Eliminar dirección?"}),i("p",{className:"text-gray-600 mb-5",children:"Esta acción no se puede deshacer"}),c("div",{className:"flex justify-end gap-3",children:[i("button",{onClick:()=>P(null),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancelar"}),i("button",{onClick:V,className:"px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:"Confirmar"})]})]})}),I==="address"&&i("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:c("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[c("div",{className:"flex justify-between items-center mb-4",children:[i("h3",{className:"text-lg font-bold",children:A?"Editar Dirección":"Nueva Dirección"}),i("button",{onClick:()=>P(null),className:"text-gray-500 hover:text-gray-700 transition-colors",children:"✕"})]}),i(ge,{initialValues:A,onSubmit:B,onCancel:()=>P(null)})]})})]}),c("section",{className:"bg-white p-6 rounded-xl shadow-lg",children:[c("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[i(me,{})," Método de Pago"]}),c("div",{className:"space-y-4",children:[c("label",{className:"inline-flex items-center",children:[i("input",{type:"radio",name:"paymentMethod",value:"cash",checked:w==="cash",onChange:()=>O("cash"),className:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"}),i("span",{className:"ml-2",children:"Pago en Efectivo"})]}),c("label",{className:"inline-flex items-center",children:[i("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:w==="paypal",onChange:()=>O("paypal"),className:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"}),i("span",{className:"ml-2",children:"PayPal"})]})]}),c("div",{className:"mt-8 bg-gray-50 rounded-xl p-6 border border-gray-100",children:[i("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Resumen de la Orden"}),c("div",{className:"space-y-4",children:[c("div",{className:"flex justify-between",children:[i("span",{className:"text-gray-600",children:"Subtotal:"}),c("span",{className:"font-medium text-gray-900",children:["$",x.totalOriginal.toFixed(2)]})]}),x.totalSavings>0&&c("div",{className:"flex justify-between text-red-500",children:[i("span",{children:"Ahorras:"}),c("span",{className:"font-medium",children:["-$",x.totalSavings.toFixed(2)]})]}),c("div",{className:"flex justify-between",children:[i("span",{className:"text-gray-600",children:"Envío:"}),i("span",{className:"text-emerald-600 font-medium",children:"Gratis"})]}),c("div",{className:"pt-4 border-t border-gray-200 flex justify-between",children:[i("span",{className:"text-lg font-semibold",children:"Total:"}),c("span",{className:"text-xl font-bold text-gray-900",children:["$",x.totalDiscounted.toFixed(2)]})]})]}),w==="paypal"?l?i(W,{createOrder:T,onApprove:j,onError:n=>{console.error("PayPal Error:",n),E.error("Error en el proceso de PayPal")},style:{layout:"vertical",color:"gold",shape:"rect"}}):c("div",{className:"mt-6 text-red-500 flex items-center gap-2",children:[i(he,{}),i("span",{children:"Elige una dirección para completar la compra"})]}):i("button",{onClick:q,disabled:s||!l,className:"mt-6 w-full flex items-center justify-center gap-2 py-4 px-6 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold transition-colors shadow-md disabled:bg-gray-300 disabled:cursor-not-allowed",children:s?"Procesando...":"Confirmar Orden"})]})]})]})]})})};export{Fe as default};
