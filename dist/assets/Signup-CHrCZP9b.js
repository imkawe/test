import{r as m,j as e,L as u,b as g,y as i}from"./index-BmcAolYd.js";class h{constructor(n){this.name=n.name||"",this.email=n.email||"",this.password=n.password||""}}const j=()=>{const[s,n]=m.useState(new h({})),[o,c]=m.useState({}),d=()=>{const a={};return s.name?/^[A-Za-z0-9_]{3,15}$/.test(s.name)||(a.name="name should be 3-15 characters long and can only contain letters, numbers, and underscores.';"):a.name="name is required",s.email?/\S+@\S+\.\S+/.test(s.email)||(a.email="Please enter a valid email address"):a.email="Email is required",s.password||(a.password="Password is required"),a},p=async a=>{a.preventDefault(),console.log(s);const l=d();console.log(l),Object.keys(l).length===0||c(l);try{const r=await g.post("http://localhost:8787/api/auth/register",s);console.log(r,"res"),r.data.success?(i.success(r.data.message||"Registration successful!"),n({name:"",email:"",password:""}),c("")):i.error(r.data.message||"Registration failed!")}catch(r){console.error("Error during registration:",r),i.error(r.response.data.message||"Something went wrong. Please try again later.")}},t=a=>{const{name:l,value:r}=a.target;n({...s,[l]:r})};return e.jsxs("div",{className:"login-container",children:[e.jsx("h2",{children:"Sign Up"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"name"}),e.jsx("input",{type:"text",placeholder:"Enter your name",name:"name",value:s.name,onChange:t}),o.name?e.jsx("span",{className:"error-message",children:o.name}):""]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",value:s.email,onChange:t}),o.email?e.jsx("span",{className:"error-message",children:o.email}):""]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",name:"password",placeholder:"Enter your password",value:s.password,onChange:t}),o.password?e.jsx("span",{className:"error-message",children:o.password}):""]}),e.jsx("button",{type:"submit",className:"login-btn",children:"Sign Up"})]}),e.jsxs("p",{style:{textAlign:"center"},children:["Already have an account?"," ",e.jsx(u,{to:"/login",className:"toggle-link",style:{color:"#007BFF",textDecoration:"underline"},children:"Login"})]})]})};export{j as default};
