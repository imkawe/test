import{r as p,j as e,b as o,L as b,c as f,y as m}from"./index-CT1dYHP2.js";class x{constructor(t){this.name=t.name||"",this.email=t.email||"",this.password=t.password||""}}const y=()=>{const[s,t]=p.useState(new x({})),[a,c]=p.useState({}),h=()=>{const r={};return s.name?/^[A-Za-z0-9_]{3,15}$/.test(s.name)||(r.name="Name should be 3-15 characters long and can only contain letters, numbers, and underscores."):r.name="Name is required",s.email?/\S+@\S+\.\S+/.test(s.email)||(r.email="Please enter a valid email address"):r.email="Email is required",s.password||(r.password="Password is required"),r},g=async r=>{var d,u;r.preventDefault();const n=h();if(Object.keys(n).length===0)try{const l=await f.post("https://cloudflare-d1.ujhuji.workers.dev/api/user/register",s);l.data.success?(m.success(l.data.message||"Registration successful!"),t({name:"",email:"",password:""}),c({})):m.error(l.data.message||"Registration failed!")}catch(l){console.error("Error during registration:",l),m.error(((u=(d=l.response)==null?void 0:d.data)==null?void 0:u.message)||"Something went wrong. Please try again later.")}else c(n)},i=r=>{const{name:n,value:d}=r.target;t({...s,[n]:d})};return e("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:o("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg",children:[e("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"Sign Up"}),o("form",{onSubmit:g,className:"space-y-6",children:[o("div",{children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e("input",{type:"text",id:"name",name:"name",placeholder:"Enter your name",value:s.name,onChange:i,className:`mt-1 block w-full px-4 py-2 border ${a.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500`}),a.name&&e("span",{className:"text-sm text-red-500",children:a.name})]}),o("div",{children:[e("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e("input",{type:"email",id:"email",name:"email",placeholder:"Enter your email",value:s.email,onChange:i,className:`mt-1 block w-full px-4 py-2 border ${a.email?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500`}),a.email&&e("span",{className:"text-sm text-red-500",children:a.email})]}),o("div",{children:[e("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e("input",{type:"password",id:"password",name:"password",placeholder:"Enter your password",value:s.password,onChange:i,className:`mt-1 block w-full px-4 py-2 border ${a.password?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500`}),a.password&&e("span",{className:"text-sm text-red-500",children:a.password})]}),e("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign Up"})]}),o("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",e(b,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Login"})]})]})})};export{y as default};
